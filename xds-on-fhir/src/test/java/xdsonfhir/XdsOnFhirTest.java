package xdsonfhir;

import ca.uhn.fhir.context.FhirContext;
import ca.uhn.fhir.model.primitive.IdDt;
import ca.uhn.fhir.parser.DataFormatException;
import ca.uhn.fhir.parser.IParser;
import ca.uhn.fhir.rest.client.IGenericClient;
import org.apache.catalina.startup.Tomcat;
import org.ehealth_connector.common.*;
import org.ehealth_connector.communication.*;
import org.hl7.fhir.dstu3.model.*;
import org.hl7.fhir.instance.model.api.IBaseResource;
import org.junit.Test;

import java.net.URI;
import java.net.URISyntaxException;
import java.util.Date;


public class XdsOnFhirTest {
    private static final String HOST = "http://localhost:8080/fhir";
    //private static final String HOST = "http://localhost:8080/baseDstu3";
    //private static final String HOST = "http://test.fhir.org/r3";

    private final FhirContext ctx = FhirContext.forDstu3();
    private final IGenericClient client = ctx.newRestfulGenericClient(HOST);
    private final IParser xmlParser = ctx.newXmlParser().setPrettyPrint(true);

    private Tomcat tomcat;

    @org.junit.Before
    public void setUp() throws Exception {
        tomcat = XdsOnFhir.getTomcat(8080);
        //tomcat.start();
    }

    @org.junit.After
    public void tearDown() throws Exception {
        tomcat.stop();
        tomcat.destroy();
    }

    @Test
    public void getPatients() throws URISyntaxException {

        Destination rep = new Destination("1.1.4567332.1.8", new URI("http://hit-dev.nist.gov:12093/xdstools4/sim/default__lili/reg/rb"));
        Destination reg = new Destination("1.1.4567332.1.8", new URI("http://hit-dev.nist.gov:12093/xdstools4/sim/default__lili/reg/sq"));

        AffinityDomain domain = new AffinityDomain(rep, rep, reg);
        domain.setPdqDestination(reg);
        MasterPatientIndexQuery query = new MasterPatientIndexQuery(reg);

        MasterPatientIndexQueryResponse resp = ConvenienceMasterPatientIndexV3.queryPatientDemographics(query, domain);
        for (org.ehealth_connector.common.Patient p: resp.getPatients()) {
            System.out.println(p);
        }
    }

    @Test
    public void transaction() {
        Bundle bundle = new Bundle();
        bundle.setType(Bundle.BundleType.TRANSACTION);

        DocumentReference reference = new DocumentReference()
                .setDescription("Test Document")
                .setIndexed(new Date())
                .setSubject(new Reference(new IdType("Patient", "P20170806073501.3^^^&1.3.6.1.4.1.21367.2005.13.20.1000&ISO")))
                .setStatus(Enumerations.DocumentReferenceStatus.CURRENT);
        reference.setId(IdDt.newRandomUuid());

        reference.addContent()
                .getAttachment()
                .setContentType("application/pdf")
                .setLanguage("en")
                .setDataElement(new Base64BinaryType("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QmFzZWQgOSAwIFIgXQplbmRvYmoKMyAwIG9iago8PCAvVHlwZSAvUGFnZXMgL01lZGlhQm94IFswIDAgNjEyIDc5Ml0gL0NvdW50IDEgL0tpZHMgWyAyIDAgUiBdID4+CmVuZG9iagoxMSAwIG9iago8PCAvVHlwZSAvQ2F0YWxvZyAvUGFnZXMgMyAwIFIgPj4KZW5kb2JqCjggMCBvYmoKPDwgL1R5cGUgL0ZvbnQgL1N1YnR5cGUgL1RydWVUeXBlIC9CYXNlRm9udCAvRVhBTkRKK0NvdXJpZXIgL0ZvbnREZXNjcmlwdG9yCjEyIDAgUiAvRW5jb2RpbmcgL01hY1JvbWFuRW5jb2RpbmcgL0ZpcnN0Q2hhciAzMiAvTGFzdENoYXIgMjA5IC9XaWR0aHMgWyA2MDAKMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDYwMCA2MDAgNjAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCA2MDAgMCAwIDAgMCAwIDAgMAo2MDAgMCAwIDAgNjAwIDYwMCAwIDYwMCAwIDAgNjAwIDAgNjAwIDAgMCAwIDAgMCA2MDAgMCAwIDYwMCAwIDAgMCAwIDAgMCAwCjAgMCA2MDAgNjAwIDYwMCA2MDAgNjAwIDYwMCA2MDAgNjAwIDYwMCAwIDYwMCA2MDAgNjAwIDYwMCA2MDAgNjAwIDYwMCA2MDAKNjAwIDYwMCA2MDAgNjAwIDYwMCAwIDYwMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMAowIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwCjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCA2MDAgXSA+PgplbmRvYmoKMTIgMCBvYmoKPDwgL1R5cGUgL0ZvbnREZXNjcmlwdG9yIC9Gb250TmFtZSAvRVhBTkRKK0NvdXJpZXIgL0ZsYWdzIDMyIC9Gb250QkJveCBbLTY1NSAtNDA5IDc2NCAxMDg5XQovSXRhbGljQW5nbGUgMCAvQXNjZW50IDc1NCAvRGVzY2VudCAtMjQ2IC9DYXBIZWlnaHQgNTk1IC9TdGVtViA3NiAvWEhlaWdodAo0NjIgL1N0ZW1IIDY3IC9NYXhXaWR0aCA4MjMgL0ZvbnRGaWxlMiAxMyAwIFIgPj4KZW5kb2JqCjEzIDAgb2JqCjw8IC9MZW5ndGggMTQgMCBSIC9MZW5ndGgxIDE1NTY4IC9GaWx0ZXIgL0ZsYXRlRGVjb2RlID4+CnN0cmVhbQp4AdV7eXyU1bn/OfPOlnXWzCSZfX1nC7NkIRuQQFgkgIjIIkYBAQFFQECl6EWvpQoYqUUREatlq1KKyKYg2lqCSytVL9FebmmLbWr112nKtVS4kEzu9zkzQcjH+/u/GZ6zv+c95znf8yznvCy/Z8VcVsQeYhKbePOsJfOY+KvrZEzRc/uiWUuyed0+xvgDt9+73J3NF1xE/ffnLbljUTZf/Bji9jvuWpl73vAAY/J78+fOmpOtZz2Ia+ajIJvnVYj98xctvz+b15Ui3nzX4ttz9YYY8hMWzbo/9352Bnn33bMWzc22rztI+SWLly3P5VsQL1lyz9xcez6NsfznGUdpkD/J8th3mIopmJ41MQNjmi/yf4T5clGPNl86/pa5Tdf4T27Qiu62P/Q/5yjx/quWM5eO97yhdmpfQ1Yt2lMFnlFrM2is3nTp+KVfqJ1XaqiW/oLNfYqHeDMzMYk3sUKEQ1kG4RAR1rOhSNexNxDWipLBIl3D2lBSzTYhrBLllaI8xeagJCFKKkQY437EKh4RuTC7E/UhVo1QFumgeGdA1FJLiftEr27uYl485xZllJa4U7R1cDu7ETUO0Y7SErexcQjLRbpMPFHKrYhVIpS4hb0tcmZRZxLvN7LReMbA9ewS2hlEDaUlrhPpQhEWiDCf5zEHWlEocS37B8tHTot1kriG/Qd6UiFuQU4t2qtEqMy1U4qcJEKF4Chng9CW0QxYH8qLseoUU5teoICeL0aO0hIwidbssqi/xP6HPYj6SyJHaYldZEaEF9jX7CnUXBA1F9jPmRIl/2SzUEY1EsKHUPZPdh79qUSNxP7Z3AesKVEm5iTqJJGW2DlWgqf+LvrrZn9jBXiqW+QoLbE0+5xZUZYWZX9l/0+0+KvIUVpiXzInwi/YLoR/YXUIP2d/Zlo8Q09KIi2xLvYK8RMxceBPIvwjIYx9JtJnUS+xP4j070X4WxH+FzOj/DT7T8GR06KM0hL7jaj5VJR8wg6yZvT+ich1ivBUds3YKbECtH4S+1jUfCTCD1k5Sn4tejkp0h+I8l+xX9Jas1+JHKUl9j57D+1UiGn0lJbYu+wdUUahxE4Q0lkH7RB2nP1C1BxnAcr10Sr9Ijd/qpEEUiX2FnuTPY5e3xK9viVW8012jE1HGdVICGk1j6HXIMqoRkJIa0klEjuam/dRlkLuiODL66K310R4WMzrENY/y59DovRQ30fogUokdoDtF2M4IGoOiDHsZ6+KMVCNhHoaw6tsnxgD1UjI0Rj25eZENZJIS3wkCwH1LRSyvWJNfyp63iPCn4hwN9AhsZdE+sci3CXCHWw77VMRSmwb7VP2I9aK8EX2AskDxMRfSkvsh+KZ59lWgQwKJbaFPYtSlQgltlm0eFrUPAWJWY+ap0R/G0nKsB+I+ifZ9wWmKZTYBtq77AnWzsJo/YTYlZSWwAta+/UiXCfCtewxtFaxteINlJbYo6LmewLZawQmvsseQZlKhBL7d1H/MMYiga+QeGw1+zc2CvWr2W7kKC2xleL5+0W/94kn7mUrxPjvFTlKS2ypSN8twkXsLqZDL4tYJWooLeHtNOKFLIP1l9gCNh+yTIWYdhqlJXYHG4xwHrtZ7M15JN3YXPHWOWyyaD1HrMLtbDY4pmK3ix4pLUHmzISuViGuQI7SErsV46Z9QqHEZuT6nSGeondIQA+NaVqu92mCs1OZS8jDqaJuinj/TbkWN4kyGouEVadnJ7EasV6TRO4G0cNEkZ4g0D5ePD9OhK2sFk+MFbXXkd5iY0R6tJAJo4TMGilKRggpNjzX93B2P9o2i76bsK4kuZrE88NyuWGiB6qR2BARNop+GkRYL8I6EdaCx6V4vlZwcnDuDVQmibTEqkRflaJ1SoRJESbEE3EWQ8tBokToW+SJD1ERRkSbMNOgJJTDeEjMXRZ7JUitmjdBEpEe8uOttD5+gVWf6MErQo8IhSYWqyGBH0rR1ilQ4QAXJWbPldlFaxv4HUJvNpGjtMTKcm8oE2X0NglagMZrEaHQzrBEjEJDUCjBCtKD0yoRSkBuMTS9CjHtf0pLwFZ29xaJPgqx/rSjKJTA+zz0rRKhhP6oTJNrrxE8oGcltMjORyUkAKUl/Kg1F7hhQsNyXrqmnUf/hf/Yv9bYHcJEhaw+CmnxHjuJ1C6Wr7ApxrBVwPFB5LeyPeyEIp9vYp/wYfx1tpGv5W/zOXytaH0SHZilONBTyN9WahVpPLEXZWshi0/yPylPs98Cu+3st9IWtlIahpqVbC+/WRoOO2+p0izyO9DmE8aUdVID28Tz+TF+mv+Wr2e7+Lscb5emsa/Q31ppq3QYo1yrLGNfSZWSAm/ahHe8JPpAvyjfLCn4Nv473s0OMyufx/fyQvaSYjPeeR+/BBm+ia3lFexJ9iQfBpk5W/kiyh6GPKTfObxlM2vnv8K820FvS+PQfi9me5LbMI6T7CBfyuZIWv4w7MUMvyQVS1bqC7rwUfw2ss2KR/go/qTCAUuKONCOkCm/Vm7L/pBxgW/deGc78yi76acqZisUNowEbVDarjarp/B3FRX8df4uOD1HYVW080WwaRgr43PoKSkf7Z5UTJBWs3bpY0UZLJJ2zOFhvkq5TbFDMQ+5QsxkA9+suBlPbVI0QGavUpuV+eCf+KG0nWaqGKM6qRqicmDOm6StfIO0lb3F1awM8Sr2Q2mTeg14dh/fDe49SPxnS8G1OcoXMdLF+C0FrUJf06DjzkGjLZa00EAnabQYtRWcyidOoY+l4JSHrVItha21TPExWybCjeDWSujdP2A0+FvdhzFthoZONGnUKiUWksXc+n2KwHVz9jXdMM393nRPRWxA1q3XuPexifuKVrpf7+ubOE1pU03fp7LvkwLafcqA77P/q/KziljrxGnu1/mIkS25bkfObEHhjdPwBvyjYrxuZEsFRqY8yeaBEPNFiLcg3pYlNhn5W0AtoLdAdSAPiMoUoEdBVDcTNA1E/RwDrQHNAe0CzQcdVZ7sy+TSNyMeDpoAovftB9GzY0BhtEsjxnv6TmFoWb+VYcXV/G7k3bAX4fR8658Cslb5rTUM0vnaP3Uuq4FEZ5Dt9JcPKhCpbFAooqKrSvqTxdAeeugVIzSNGR6OBRVWaKYySHobtJgD2s2FsXpggflQ5+9/8F8kDohxejH62bBR97IuPp9/rdik6JJGSf+hnIRd/R11TL1Hc6vmova7eWPyLuXfU9BSsLXwB0Wjip4qnqDT6r6nf9zgNrxubDGpTXtMXehPweZlNinnqXZglTTM2pSnxJJqVQoli39w5oMk03d+0PlBwmTwGAIeg2eekvUsk2w9f85s0hRf/OoedZiGxPmizFtSBR8HXlc0lZcaDQXK4nxWViydLKNMvhIaWlNWUqbvTFvr0GfPB8a6OoO1LsGH8gaespSY1RpezH3eYJwP4tWNfDA/py13/VZnVCozf9OUFksa7Si9XsGtXlNhnkqv6e3QGRVSucZYWJCnAvK2YIdUKuJYf08TypSSUvMx+0iv02qYskDS6zs7xHvPd+GdJm9wCK+qqfSkLA5uVvtOmK1WszTEWu408UVlloUmi8W00EgKivNtfV9JUT4F+DM35UmdeacK1TZWiGlgEufTiQC6EaPHyPm2RVOn37Vo2rS7dkyYM3vixNmzGXQCPQ+JWQAcupv0eZ2SrrPklPSPUqPaVshK9Z2N6RS6Sp9P67sTNKj+3gxXpb/puf8NipO5V2Tk/ndJsJyZcplyG3aOAX7hvU3Xh/P+ovncpj/i7SpjHUZlWBkwh80Bf2B6eIFqQXiBtFJaqVoZ/l50nVRs95aZlK7yVMwYDurzucZnVLOioqDLElQWxSx5TFcer9T3pFMdnekOfYe+G2tnrDPQP/C1jcW7Uxn6V5cIVKZqqquCUV7dnzB5vMHqqpoGbgCTkCC+03o7OYVYdP7k749t2Xjki4+fWPvA8ovvZ5p8vtiNHs/4mN/LT3X+vmXEXQtunpS8/+722+5efOuqm2+dftvlbr8/5JDWuMK+wM7nr783KD9+14xNCXsZrRm7BXy4BXyoZWuaWqvjNalQMGovNUS7g39JdbMafq6G16T9hiPuv5Z2FbMOjYbJgTKfvdRYrFXqC7iSVcvJQb6kXckG8XOD+KDBAZ29pEBfpz/TkeroaexoWwoG6LtTuemLqA6oFkwAF9qWdmW6UGo0EIcES2jCvhwfFFfzwYBygiO2FrEmh8hsieJWORL0ezMmr1+Oe4YNGxf1e6UVXp/PG3H2fsa1dr/bYfP67ZmL7R6/LxDwBdxZloTlTAY8HL8h80r5dalgJJMKpq5zZEaCNy19nyk3Ko/DMt7UNH9sYkZihuVOy52JBxOrLBsSLyReiG93v2E5WnWw5oBb50mF5KjfWGpghlodPzJMy7V/r+0ojX6Z6vB/4TxQeqjBUmWpCVYFa5ZXLh+8w6HR5ekLtYoKT1ylkpOqMNMV6quLbIkG7JTOjp6uNLBCDAFe9F09+Om7M21gIySBwBIQlWgLVF+Dkig35FDiZgY9A4OsQ/kVNslBeRCEhqLEbATapB0XnY7yAN9XXuaJFBUa6/5rSeZ85jAfcall7dh8nz3u8kaqrFpVYN30A5+mO+pW7ul2e4J2jydgz/y11FaS703wKdyE3zyXq9xaO/expNxkyr9+Sqb3zJ8y552ErbeArWJgy8sGN7nc+iNWQpC6WGs1KHUF7nI1UzqkOo/OXFCn8+nPdKV6ulI0aRI+8XQKGygRyO5wT3aaV3ZFA/dk9z5mLG0aH42O7/1R3B+Mjf/jH1sHBYMVitvi/kBF6x/bHaGwqx/9AZ/fH3b1kDGEsdVhbIsxthCb2BTRFqiZSQqUHLF3SbKpoyDgCnrtFlOR0qxHjTfIkur6Mn1QZw7rz6Q7UpA/HWIVcktEYH4HW5rWywAxncMmwfX/N3KP9AdnxO8PenvWxv3+6LgHHxxbEZCj/DimUjHuJYWZb2yNoSDzmk/+lklw5uk7p1yLOTSw+5tqg55qzzzPggZlqL7K0+BW2bUpr/FIxN6lZx2DtfXuBo9lRJE83CPHqypVwxvkyqIquyGvuVHf09jYBcDpsQ/1tBPrWLwDG7OxO4UJQQPA3PoZ8+C4qp41IHSTSaDRp/Xp6UnWFsgppKhigNxKQIYBf9wQ5dkahVhKLJjYxDLnUyrH1gyKXncJcw83mMomN1TWhcy3DgqU8Yvy6JpkZMTfE35ftK7Qlkxabb3pdnegfy3doYBHURLt2SJZfNlCd4/BYSkYJD19RaYtBV+SbHHTMLuNJfMNRbYSY56aqe2lUsJ+pKirwtkRlCviEXfQ4Ss2GiRbSVF+nqRmtmTJGN9oBxZ8jEMXGR1P6Tu7SN90ne8mZmRJ7MF+GZZ6JyXke11CU6wxCbVcnaipNmHnQXZbTWZLdXbGkseQY9Y3ws1zTuGq8PkU+Qp/UJob9PMCRTAYciryM59tEfKs90Mhz7ZkPpOKW8MBv0vPxwawCTOHjW7u94VbubJn1TcCLYttBbB9AvOvZ+ubUj/z8tHlU8sVXi8P1UVLpfwjKUOXMuhw18SLFWXlkSjX1jNvXn5BvKR4bEnN2HgDptwJIFjr2rAPG98BEqwpQkGzmeUBAHnQmeUsH6kyYSsypGhHRVg9UlH8IhoV8KFNa/QqiqazNt4GAksEJmxkunyj26JcKuaEErkAVo1ISAMa8Dl78qzOCkdZ3vHZzw+Khmv5CIs3GCx8QjKYRltL807/XGMpazWblJsLZdlt5S2Dw9GKds4UU9wGo613l2Rz+4JO2eH19JS6zMYyxb7eCWV6k1f63OtxBp1BnxszULBH+/6ifFQ6CDu9mj3SNPU7qvWq51RbSp7W/ES1Q7Mj8JPQ7pJD+W+4jhqKyh1l1UXJPFYYKQtLZ89auKUn75LefdFxNnhBfypyORk11BuPGqVkdFB1qggnU64yJocnqkM+Uw00IxCV6gKDs/I9nu7qycl3kh9C7GMfJtpg3fm86hKzhawDaxZaQrZYYTSgJsclbCxDvzgEF6WWwXdUbtm/eMrq09pJb897+rV/nKm/d+jdyyf83OUI/m7PvoPJ0YlQ6Hm7X82PGg3zp7VMWzPmw7ETdq354V6dXrPs7snxQMOkA69kGpyQOl43+NLS1618BB5oAUuw0803sRE4a7oRtAc+w3bExxAfQKxGfQynaIWwLOGhwr61g69n4VsE4O7EUHYWNReQP4VcH7yKy2jRCr+mFfiZgXgG4p2wyHbCJzmE+BBiLU7Ow2jrwDMShI8dZ6l+oJD6pzPWEDwYrASTEd+EljeizSS0uIEl9T1dXV09ZIHluIodnLXAursysEr6KwS3A8IWyzJcIr3JSswMLJahU/uFWL9ZJjayYmv7vgPr1r/66k9rX1r4Pi/M/O2dBVtTJstrcnBQS4mpBRbBZqdt/f4n1h888PjjBxUPjxqb+e/3TmS6x7ZOtJWSRFcyd8jvN5dg1jOBvQpgL8ZWNd2yxr5B96zvBd1zxc8ad8Te0B31HYzlaws0nEkG5fUFtxUsLphjX25fXfBCwSsFO+z7nPlO6yV/geGsMnLBf6qixdhimWycbHk5+HLoaPBoSFtsZkmPZrI5JE+pgGF6viMt2ADDogMWaqajTcg1Qtw1dpWwF3L4G1wzOGtvK31eVl1FxoW0MQj1GgzaZHti7fStx9/YOGJljcndHHDJmU9eOp35A3f/57hnpZlKjyvRejQQcCVvuPH1Hzz9ZiBQWFYtu67fyS0ffcSt5BQp2DTMfwsw5geGftM8BRjTYSV1wJgKZ/5a4EwHnKlwAqYF1nQI7Vh/AzzYQUBe1mcOAV8aZgDWSlF6FuUXkD+FXB/QcxnvaWFxkAzrPw6S0XMBKA+9FoBIspFVHMUonPB76Q1GeOPUewnaRfE2GeVTUXMTcB6Ctz2FUJY+D07CWyLt2b+nsanhplyDMNi0Q4Tjpsgy0JozbgWaclvYx7PbXWxwaWOJofHggjf7uP5Xd+xoqJ5aGZZPOm0VyVjQ3bNv/9p1+19d3763xDmp9UZe9N6H3HTdaL7aFSZIXX7W44eb9fa6fa+1rz94WPB4Hnh8M07n7NhNbzZPwJ2Git0L2iXIwl7G/F7GWhxGns7Kabd6EJaAe0fYQ9i/HLQBfZ0V/cHlQ90FtDoFjrXgycmgXfDeXsa+fRmr8zKeOIT8UeSPIn8U+XxxukDfDzjAXTu47gQn88DraSih3TyF+ftRCo7inzCC0z1tHW2CpcCpE/vTnxV65BXlIIkdi60a8Ai5yc3aA8+t4GaHMxQZNOeTBdjx3PvlKW6Jz9f1zlWs1728as1hvu37zz8YtDsS1mQV15z+HTf2scO1wUfue/JxDBCjPQZd2qBywZbY0FyJ1afbARvknQeps0iRF30Eo9ahjDMLV6CsD8hjwJsaZXqk4VaDB/nIM8inOHIJcNeK3mTETux5GSUyeJSPs/wUuU49HZ0dJLdyNofwl+AAwCjDdgVHoB76beNrDa+G3BYGJyC7IM0cPOtC+jwGaUs4GpZ776Fw945wRST0w19/vuTOQX7j2uTS2Xx2OBoLZnZt8MNQ9iNQ3B5EquXQ9lS1K1R62911UAdy7/PEFwVbk1mqXCP9EPtmMPtb8yzs1whuIdzYsxH4lG7crrlxghhhDyDeA9qO9DHER4G9A0gXYtZR3O3EccYkvmdgXvCnhjOUEIfPAgeEM7qvOYs6IydJf4HFuRK+agt43QKUTkY8GfE6IGc39MRurMpRxEcR56H3BG764nhXHt7lBIcr8bYNyL8CUoAmg/8yMBxgtTj1SJ9v64LLasjtYX063dVJgMtcWQk4qG38ikquCuJERMBPmDMp0tPZDZ7LQ08LM1jAUjH2kV27Hvn3H/+YJ+ze2l+uvWdBpc+2xPHUA0OemvnGP3uOjt/YanM8EwqlRhol7baHV2/fvnr1jt6Kx1fExo6PJVxx3WM7V44e/j8/+3lvXf2YErPPF3Jj9nOAz1WQm3Xs/eYxwJoMxBVCjpE95geiaH7AMfiqReoSai8g1Qd+eMXtDuE0BX7bkfeBOyVIl+K5GEqJc3XgGd0/1YCHxDM6g3RBv/qwyqWQhCa0mirWU0bdjcjPQNtJaDWd1UP/Qgw2Ct9CgFbA+YqFQyY0GZfdpItzpjWaJQZfIxeFC9tv4fSbztwgBOSA4spuUwtE5Gab87oN45/5aTwVC4UyX8c94Trfwrl3POdrjHjima9lOd7SnlW9FlOmoaX52K5MgweQd4VDDv7iilXr5mVmOuWst0FY3wUeT1TNBNZl9p3mCEIf+EXfuORxFbODtz6gshz8uYz5m5FyY3f7wclC5IvAczWecKCU4exdjVtSPdaH1klGOzfahbDnO3o62jqhmPvtP3Ci3xE+nya2XH3iZerf1DlL+upjEkW+3DQ0FGhuko/wZjngi/dcDIUiEZ48Ho6GQjxgcymP3VUbnzYlHOwp8sAnxmb3Kh4O+Hw+i4lk3nzMdzMw1ci+bh6FVY2xkaBRsLuGAzeTkZ6EeAvqt8D31GJf0r2mG3gwY7aNqC9DPZ1Xh9BbAeRdEcf9EwshdINTZuCvAb0VgF9VqKUnyvFEBUrVkLSkGfzY5Un0XSM0sgzdUciGkOmc6uqEbCS0ADzpVCpNahbsgRNGobGOPBULi+ErC5IwFYgb8GtkUSoBNYoaXBkgFh4MnFltOp0mpwXOSiLJ28hJ/VaTzxDAgWv/qZyG9r6O0wkLSdvsidVgzvd5yo/Iofj4RHhKKiz/zObkHo8rFuG6YGiWqSA8O/UkXzUlGsDB03/HQrKc+Q1fnTkdSmQNQtLeFlNv5VfFXqvT6fU25isUqurY6swcN86snB6bXAgvi0PCMSXdCtnY9GYXOIki6Jm+KyjM4k6LGg2qCJNK/BhQRyieCNxxEJXYIfk62noES8HAK6AD4K5ywwwDAKfw7Z6VDMt8LKZXDz0T78WOAchKlO3ZKZABkoUW3sH7MhjvX2B7XM/LmxfiC5Na9jTGtFHcsTNoDzNmohZYux6SvxijHgLNUgl5RNacBMlVj9VjrBL4aUL6AuR/hHYhWl6G/+DDMyOBT6wvbLPhoEY2F7QCpGbDMGeOulZ82zACOEsAd1GgzMdo9w2B9qZb9mLwRg0txtDqdoS3oK0b327YUE4a7jbUDkbuFjw/FT3SLqAy8jwm4pj7fFdXOqXvgrjTd3cJLJImASQRZY832+j4t1HIPBwA07Fov8MHPEO1XCPUCIFDuCHr62n67cMszK46Cus/5cue9fVLRAFf6XTl0LFTjUPCXt/qqKuloaLVFmiMeBOQgYF4i9k4qjIUetZTogjf2jBqhiVy9+iH79MPjfh9K0NBRUX77Q8tycx0wEEJDXfwXRNap1ZX9Z4muegLhByKh90hn88aiEWGDB3W+NKxrLuYqCIgkvxYDV+mgX3YPBYSoRhyQIsVjkLP0pcEDPlL2NFCK2E9DVjNGNaCvrIjfVSJdSV56Qf37bChyvBspVi1IvRDXwU2wEOnLwJrYTEV5bRS1uu7Ba2noj2tUBR1Wa1khlaqxXpheNBLdOb1rYqJlqqfvkU3XaWZcJrlwHUMbf2rfG+h7q/VTLmDscqvoJki8fjMb1RTvPF3Tf5IPTTTvK3QTP5Rh2vCYWgm4mzAYzG19Csm2eOMyM5vFFPESQuAWd8Me36ZtB/otLKRTVXsrE59tuSC7lRpi6aloFXVyidrJhfMUM3guw27TTutO4uOGo6aDlkPFemlUOGcvJBxSinZ2ensGTPEKGxKuo/I+sCcvN+sq8cU87aceOfZZ090KH6cOfPlF5kz3P/FFzyw7Pgzz5w48czmX/CbP82c4/pPP+W6DH2Jq2DDYR8+AvswBJ7/vnkqbEA/SIYd6IAd6AfJsAMd2D0h2MQB7Co7ZqEHVggBGpSdRWkcOHExPSBjBU40XMJJggYlF7D+rfDxWiEDZiCegXgnbPJdwM0hxIcRayE3UujTgD61kHQ68IlkIcm8GN7qRYosH3z4jPRNwEyB8DhvYNWwW1JkCQq7jyCROzfQp3GcIFyQ7I0GgQW79hoFcM3OzGIEbgm85qB8DXfnnAsGA/HM6FC4cqTJNLIyHMJhQcvO297nxX3s3YX7G3nN+v0H1q3b90of8/tltx/2nrKYNp25ZNaoUZlzJ09kWkcpXln/2Kv71q7bRzyfAJ5vEDZ5FTuDc5rdmPtPMPvt4AR5X28gfQBpNSRvGdbAgf1B34zRt8eXsb/I49MzP7jtwO46i513AfpTAv81zAH+V0Pm5oPIz8sHKfAGI3o2ChkYgYVNJzNYI6xAFVYliX4dyJFOp/MgsnfIe46AzwFwnOSACd4e+E2ykxgOhmY34P/BcapMtOFQlY7EBFK5gfw/f86jvtrgvlZiVvbsW4+zmvWPv6JYNnT/nScyfVz3y1t3jLI5nwkFkyNMdF4TyoyKB0JB/u5je19d+9ir+3v28g2jWjMnfs11o0bNKjF7/SH35a+wBn43zsYwfo5vCXGPAFkXZY80x4GmEBBnF5IOupZwi5nSuQRhljDcj++nwIkdoIMg+oKLcEooNWN9dDmcZrFpBjoLUBYjG7EDTBLqJHuTmIb5I863soIrEbhGS38LFIWlIvxCjULJx5F12HuPHApH97bMSsihLpv9tl/fN/3uwR7rouiEny7AXVm/eYjrQ1+Jefd9y8fUBeqGLL4fc9/f96XSirk38RnNT+Mb4BRsRAPWN4U1NeB7kQZ8J1IOsoHs+CrUhK9TjOy7kOXfQ5vnUb9R2AA2xHb2HOqfRf1TqN+E+k1A57PAyk/RbjvabUc/29HuZbHXi8C9BPA3CKhuAKrLQTaQHXiMwCOvAGeT4L0X5EFNDOhswIrVgpcpvMUArteC1yQPCrA+tfjGJYAvZUJAdYA3of1ZPFGKVRuKulNsCdqhLWqaYZNW4Q1FkDLkxxegXy36xDcAot8SrOZcfH/rgZfpYbg6QRsP9k4cpQw6rpms2E4cZZCpL5ZRn27D5VdHOt1Gx0U5Ryi7DwD2wWRwpqwWK515ZK+Ls0a/8Dche8S9vDd3vUfHdWiZdf9l2hrB/Z5AuFRfFNlx+8KH7nhw8Aeffvzm+BeVBUOdXo/b54y5zNX333DrsnuPf/TzzoN1jy/0pQy+wJj9sWCt11DTPGXU6MYnHv3uD6JyKrWiOl7pMyajNzYNq1GqHm1/dFtJmdVK9jrH+V23crbyKDjyYnM9vNIithz0XdBToB0gFWSBFZxygoohD+KQ8fS/RsjquoQaF8qOoCQoTpiwdbgWpaewikHmhjwnXUE2roS0AU/jJho/Hco5KKnvbIM7gB2S86DwoUBXT1sjHIbsiUlOrpC8ztnrBiFFssI768XjwBMGV9bqbUAyd5En3ZesiEQyd950x4yM0y4nG2Y/P3LFC7LZsDsSrLppaUCOeaU5XvhPmf075i8MOTxJq+xvHeubOcfFJ4D5zpPV0XBq+q+IT2PwZdAyfLuVZC81Ex5JOkpAfhLYIauXvrkpRwmdeQSh8RiQXAy54QUnTJDS5ZhzBRAeQMoM/uiA7W9s10Eop+9/6EyF7FIrdqMR53wkcUnPBXAqnoK0pRvlxq6csCXZkbV7YPOQvw6W9Z+Yk1maO5G8wpdrbZ7+A4+rq/mihcsWPbdW9gUjnwRdg5I4b4JPPnPtuJ07S1pScvgZn40v/bfl6+bz5z2+oN/T1DvJHSC/p2Xs4Fde5b8gLWdPYMSchft+p3wR/AqyHzXLkAk6+JwB7FE6cVPnkOEUdgNsRyFv1eCWD9yS8XwQnHCDr/SlkwacksAzktH0RbIMvwf/hCcJqDSmrXS7DoVODqSR6eAeutEBifGRohuXKAtiOUaiFJ2Lay7ccqW12ctQfCtzxTmE/5h3tf9EDmX2ox156/Ak3PDSumBqRIAruadxfE2wjleHQsnhxszhsmQ8Gi+ThKZ3ySF370rFo66w7KLznl55sMddi1fzvjT48jH4Us86m4dBU2uwxmTbMny7DpWEOfqAGTtmS354AyQWR1s6iXSBKqGny8ADLTgWw7SU8GuU4FkDWtDtng2t6e6mHs/RuZAfTxRBf9ej9zC+iE+gfgHweAfK6L4QF4Z0n4UtlxKM1L8D/Z29OwYrfWAYjcaPuBK/KmZDiiy+csRaeqdKOOHZcDp54LgTJJPp2ptA7NIovvIUdrfVJu4Kv2G4JveIYubD+aGQP6T/c14kIAd5QU3QYjBUuOv3PFwQkv1h/YM7S6MjE/4qXuhy+VOfFcmyP1LMezIB3ASmFKc9stfvkkt9SpWy9yV+EPeGycxMxTQcDjlxou5W9JqoiMBWB3urHWsQZ281pzA/N2wjN5sLmge80Rq4wSmyPxkkmwbtPNiX+Jabk+XTb9EmBDpJotHJGi7XwZEYcBoAd2PopQCcohR8GsAVpx/6z6/GbNYSzd3PElTdIPqujwDsAdGJKhOlLuTwfQrTE3AJt3TuQbf4Ay1YEzzPbxj7DZLFRQWOPBW26HVVOL+ojAdk+fS2zJMC0dZagWgdN8sjq4J1F8JyrLaPwW4Q1hIfpviQ9rXA9GmF7A4RpsFPDA54PsVX4T/8ecCLumYTrE86wSQcF/IQtC6daqqANS1QqESaTjPpOzWxYXFKho9mSFDljmH6P1hTMafpctxsLTUpP7bY+MUJRkeZZYLRaoH8EH+Zjbj/+LY/2vb0lT3xkSzYMHZXDHxMYp/UY5VHwtIZjVOC6/DVdCtODCaw63GmcgM8zBthF98E+2cqbjOm4zvoW2CT0B+HHKYZ0f9KBB5GTmue0DI2OmLxinsWzL0nV0O1L4L2gHDvwD4AnQGlQT3oohCEXcljoEbQONAtoLtAD4AeB20F7QEdA30AOgNKg3rgIBSC7KAYqBE0DnQL6C7QA6DHQVtBe0DHQB+AzoDSfbk/jINdSXNg9dp8bEAeZ2zXtB80IF8/ID98QH7UgPzoAfnrBuTHDchPGJDHN3/XjGfqgPysAfnZA/K3D8jPGZCfOyA/b0D+jgF5nJNcMx6S3Ffz984B+bsG5OF7XNP+7gH5xQPySwbklw7I3zMgv2xAfvmA/IoBebGXrsLHfQPqV16bd5sp/7+FJL4nCmVuZHN0cmVhbQplbmRvYmoKMTQgMCBvYmoKOTgyNgplbmRvYmoKMTUgMCBvYmoKKHJlYWRtZSkKZW5kb2JqCjE2IDAgb2JqCihNYWMgT1MgWCAxMC4xMC41IFF1YXJ0eiBQREZDb250ZXh0KQplbmRvYmoKMTcgMCBvYmoKKEJpbGwgTWFqdXJza2kpCmVuZG9iagoxOCAwIG9iagooKQplbmRvYmoKMTkgMCBvYmoKKFdvcmQpCmVuZG9iagoyMCAwIG9iagooRDoyMDE3MDEwNTEzMjkxMFowMCcwMCcpCmVuZG9iagoyMSAwIG9iagooKQplbmRvYmoKMjIgMCBvYmoKWyAoKSBdCmVuZG9iagoxIDAgb2JqCjw8IC9UaXRsZSAxNSAwIFIgL0F1dGhvciAxNyAwIFIgL1N1YmplY3QgMTggMCBSIC9Qcm9kdWNlciAxNiAwIFIgL0NyZWF0b3IKMTkgMCBSIC9DcmVhdGlvbkRhdGUgMjAgMCBSIC9Nb2REYXRlIDIwIDAgUiAvS2V5d29yZHMgMjEgMCBSIC9BQVBMOktleXdvcmRzCjIyIDAgUiA+PgplbmRvYmoKeHJlZgowIDIzCjAwMDAwMDAwMDAgNjU1MzUgZiAKMDAwMDAxNTY1OSAwMDAwMCBuIAowMDAwMDAxNTUwIDAwMDAwIG4gCjAwMDAwMDQ1MjEgMDAwMDAgbiAKMDAwMDAwMDAyMiAwMDAwMCBuIAowMDAwMDAxNTMwIDAwMDAwIG4gCjAwMDAwMDE2NTQgMDAwMDAgbiAKMDAwMDAwNDQ4NiAwMDAwMCBuIAowMDAwMDA0NjU0IDAwMDAwIG4gCjAwMDAwMDE3NTEgMDAwMDAgbiAKMDAwMDAwNDQ2NSAwMDAwMCBuIAowMDAwMDA0NjA0IDAwMDAwIG4gCjAwMDAwMDUyNTMgMDAwMDAgbiAKMDAwMDAwNTQ4NSAwMDAwMCBuIAowMDAwMDE1NDAyIDAwMDAwIG4gCjAwMDAwMTU0MjMgMDAwMDAgbiAKMDAwMDAxNTQ0OCAwMDAwMCBuIAowMDAwMDE1NTAxIDAwMDAwIG4gCjAwMDAwMTU1MzMgMDAwMDAgbiAKMDAwMDAxNTU1MiAwMDAwMCBuIAowMDAwMDE1NTc1IDAwMDAwIG4gCjAwMDAwMTU2MTcgMDAwMDAgbiAKMDAwMDAxNTYzNiAwMDAwMCBuIAp0cmFpbGVyCjw8IC9TaXplIDIzIC9Sb290IDExIDAgUiAvSW5mbyAxIDAgUiAvSUQgWyA8MjJlYjkxNmIxYTUxOWQyYjQyMzllNjBlZWZkY2IxZjQ+CjwyMmViOTE2YjFhNTE5ZDJiNDIzOWU2MGVlZmRjYjFmND4gXSA+PgpzdGFydHhyZWYKMTU4MzQKJSVFT0YK"));

        DocumentManifest manifest = new DocumentManifest();
        manifest.addContent()
                .setP(new Reference(reference));

        bundle.addEntry()
                .setResource(manifest)
                .getRequest()
                .setUrl("DocumentManifest")
                .setMethod(Bundle.HTTPVerb.POST);

        bundle.addEntry()
                .setFullUrl(reference.getIdElement().getValue())
                .setResource(reference)
                .getRequest()
                .setUrl("DocumentReference")
                .setMethod(Bundle.HTTPVerb.POST);


        printXml(bundle);

        //Bundle resp = client.transaction().withBundle(bundle).execute();
        //printXml(resp);
    }

    private String toXml(IBaseResource resource) throws DataFormatException {
        return xmlParser.encodeResourceToString(resource);
    }

    private void printXml(IBaseResource resource) {
        System.out.println(toXml(resource));
    }
}